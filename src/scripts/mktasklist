#! /bin/csh -f
#
#   tasklist maintenance tool.
#   This is an experimental addition to codemeta/CITATION
#   See also the list in "testsuite -s" which is a formally certified list
#
#
#
#   tab1 is the master list that we maintain in git 
#   tab2 is the list generated by mknemo
#
#   These will be collated into a new tasklist.
#
#   


set tab1 = $NEMO/src/scripts/tasklist
set tab2 = $NEMO/etc/tasklist

cat $tab1 $tab2 | sort | uniq > tasklist.tmp
mv tasklist.tmp tasklist
mv $tab2 $tab2.`date +%Y-%m-%dT%H:%M:%S`

# testing a piece of CITATION.cff style output, the codemeta.json is a little more work in awk
if (0) then
   awk '{printf("- name: %s\n",$1); printf("  description: ");for(i=2;i<=NF;++i) printf(" %s",$i); printf("\n")}' tasklist
endif   
